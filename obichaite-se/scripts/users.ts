import { getPayload } from 'payload'
import configPromise from '@payload-config'

const users = [
  {
    id: '3',
    email: 'geshevh3@gmail.com',
    password_hash: '$2y$12$zq0kjh4hZRc0.PSalINkGuu8ny3tAB.z7dZBy\/.p.mwfmF22kJsUe',
    name: 'Христо Гешев',
    is_admin: '0',
    created_at: '2025-09-11 15:15:57',
    first_name: null,
    last_name: null,
    dob: null,
    phone: '',
    is_verified: '0',
    verify_token: null,
  },
  {
    id: '6',
    email: 'geshevh2@gmail.com',
    password_hash: '$2y$12$uNrdR657SJWnPaN7pKBG8u1fDRvpvhAlgkc0\/TV\/\/lpO8yJFlDwzu',
    name: 'Христо Гешев',
    is_admin: '0',
    created_at: '2025-10-06 13:53:34',
    first_name: null,
    last_name: null,
    dob: null,
    phone: '',
    is_verified: '0',
    verify_token: null,
  },
  {
    id: '7',
    email: 'elementss@abv.bg',
    password_hash: '$2y$12$tJcKztbrQ2E08qAD4.d.jec.8jlD4PJNUgtZztei0jlvpH\/S9ejBa',
    name: 'Христо Гешев',
    is_admin: '0',
    created_at: '2025-10-06 14:13:01',
    first_name: null,
    last_name: null,
    dob: null,
    phone: '',
    is_verified: '0',
    verify_token: null,
  },
  {
    id: '8',
    email: 'hristokostov14@gmail.com',
    password_hash: '$2y$12$9cvFcmFhz\/Lm2r1TqViSR.88YbWjdhDeYHsGNDWJtmMLYhPiIqJFK',
    name: 'Христо Костов',
    is_admin: '0',
    created_at: '2025-10-07 09:22:18',
    first_name: null,
    last_name: null,
    dob: null,
    phone: '',
    is_verified: '0',
    verify_token: null,
  },
  {
    id: '9',
    email: 'hristo.geshev@walltopia.com',
    password_hash: '$2y$12$7xZWXAIiuFBFifBa.W\/nFeDZSURVviSBJjUyDJ4rxd0ZrTPLzU2uK',
    name: '',
    is_admin: '0',
    created_at: '2025-10-10 00:55:45',
    first_name: 'Иван',
    last_name: 'Асенов',
    dob: '1982-02-07',
    phone: '0886104017',
    is_verified: '1',
    verify_token: null,
  },
  {
    id: '10',
    email: 'hhv2009@abv.bg',
    password_hash: '$2y$12$FTr3YNL8MBffBjKn1Q9Zau4XtIZxNdR7v.DhNcwnFuScnp4ZnRn9S',
    name: '',
    is_admin: '0',
    created_at: '2025-10-10 09:24:00',
    first_name: 'Христина',
    last_name: 'Владимирова',
    dob: null,
    phone: '+359879435375',
    is_verified: '1',
    verify_token: null,
  },
  {
    id: '11',
    email: 'ani96aniiii@gmail.com',
    password_hash: '$2y$12$AgaRPZsOJVvzaLKfeqUQzO0CqQmVXfLKctjVmzMHy3h11F\/OgJhr.',
    name: '',
    is_admin: '0',
    created_at: '2025-10-10 11:21:21',
    first_name: 'Анна',
    last_name: 'Атанасова',
    dob: '2025-12-26',
    phone: '+359877561716',
    is_verified: '0',
    verify_token: '85267458f58b2febb345c50e2a17d18c',
  },
  {
    id: '12',
    email: 'galinadelieva@gmail.com',
    password_hash: '$2y$12$3rDncTtZ3pChY6kftkLMD.xkw1IVMgUhh5h9uH7VTA0m8qMiHGMBa',
    name: '',
    is_admin: '0',
    created_at: '2025-10-14 09:19:41',
    first_name: 'Galina',
    last_name: 'Delieva',
    dob: null,
    phone: '089 600 1054',
    is_verified: '1',
    verify_token: null,
  },
  {
    id: '13',
    email: 'G1v@abv.bg',
    password_hash: '$2y$12$SKreG8Tnu0rzoBhpOfasnu.24TaF\/d5KvqnQ6L7u5JxLZ9ncBXWHO',
    name: 'Георги Василев',
    is_admin: '0',
    created_at: '2025-10-14 19:53:23',
    first_name: 'Георги',
    last_name: 'Василев',
    dob: null,
    phone: '0886783822',
    is_verified: '0',
    verify_token: null,
  },
  {
    id: '14',
    email: 'samuil.b08@gmail.com',
    password_hash: '$2y$12$BB6mvVA2HmZtp13QosyttuiaIug.SDjikr8BcQeUWJok4o78KXbsO',
    name: '',
    is_admin: '0',
    created_at: '2025-10-15 23:27:56',
    first_name: 'Самуил',
    last_name: 'Барабанов',
    dob: '2008-07-07',
    phone: '0899252887',
    is_verified: '1',
    verify_token: null,
  },
  {
    id: '16',
    email: 'sonatakieva88@gmail.com',
    password_hash: '$2y$12$7aviuCcfeRm8yZvkB.9ReuopxgigU0EKPe9oYwS6FTPzOCfXdK\/oK',
    name: '',
    is_admin: '0',
    created_at: '2025-10-19 09:11:59',
    first_name: 'Соня',
    last_name: 'Митракиева',
    dob: '1969-05-26',
    phone: '0885386027',
    is_verified: '1',
    verify_token: null,
  },
  {
    id: '17',
    email: 'mmariqdimitrova@abv.bg',
    password_hash: '$2y$12$3D9qSjwFkJhWrOLp2r5DcubVZinscv6MjYOBFZnAn5KA32otoscW.',
    name: '',
    is_admin: '0',
    created_at: '2025-10-22 19:44:28',
    first_name: 'Мария',
    last_name: 'Димитрова',
    dob: null,
    phone: '0887405067',
    is_verified: '1',
    verify_token: null,
  },
  {
    id: '18',
    email: 'stak1@mail.bg',
    password_hash: '$2y$12$VhErRMgLrXbD2m4Zpp2xteV\/tbpc40As1dLAjC3n.lx0FClPOsx7u',
    name: '',
    is_admin: '0',
    created_at: '2025-10-22 19:52:37',
    first_name: 'MARIYA',
    last_name: 'DIMITROVA',
    dob: null,
    phone: '0887405067',
    is_verified: '1',
    verify_token: null,
  },
  {
    id: '19',
    email: 'jvjjcicgicjh47475@gmail.comxbkjb',
    password_hash: '$2y$12$gt5sUDD8RxZ43ghdcYf\/QOL8FAVNhYJBXsM.UWpDO\/uUZlAeKtUUm',
    name: '',
    is_admin: '0',
    created_at: '2025-10-23 14:57:05',
    first_name: '8594-58494: في 47939& اوكي يوتيوب',
    last_name: '.gdkkdbgegsihdgbdjdn',
    dob: null,
    phone: 'Fdkodhdtdhuzgz',
    is_verified: '0',
    verify_token: '288d5811ba5b4a0263827485c9817fdf',
  },
  {
    id: '20',
    email: 'uhasan@abv.bg',
    password_hash: '$2y$12$l4maoflY2CtxVrS3OdZV8eYGOPoPlAE\/B07XforVLzsqPX9.SkSMm',
    name: '',
    is_admin: '0',
    created_at: '2025-11-13 00:25:37',
    first_name: 'Юджел',
    last_name: 'Хасан',
    dob: '2000-08-06',
    phone: '0885264504',
    is_verified: '0',
    verify_token: 'ac11688e13022b0835bed55c4d553b49',
  },
]

//need to map the users and create a user for each one
//! need to be verified need to have role user

const test = {
  id: 11,
  role: 'user',
  firstName: 'Христо',
  lastName: 'Костов',
  phoneNumber: '0878841149',
  dateOfBirth: '0005-04-15',
  shoppingCartProducts: [],
  friends: [],
  updatedAt: '2025-11-11T13:07:42.221Z',
  createdAt: '2025-11-11T13:05:59.619Z',
  email: 'hristokostov14@gmail.com',
  _verified: true,
  sessions: [],
}

const mapped = users.slice(5).map((jsonUser) => {
  return {
    role: 'user',
    firstName: jsonUser.first_name,
    lastName: jsonUser.last_name,
    phoneNumber: jsonUser.phone,
    dateOfBirth: jsonUser.dob ?? '0005-04-15',
    shoppingCartProducts: [],
    friends: [],
    email: jsonUser.email,
    _verified: true,
    sessions: [],
    password: jsonUser.password_hash,
  }
})

async function main() {
  const payload = await getPayload({ config: configPromise })

  for (const item of mapped) {
    try {
      const res = await payload.create({ collection: 'users', data: item as any })

      if (!!res) console.log('created', res.id)
    } catch (error) {
      console.log(error)
    }
  }
}

await main()
